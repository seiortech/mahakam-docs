const lsKeyColorPreference="color-preference",getColorPreference=()=>{let e=localStorage.getItem(lsKeyColorPreference);return e!==null?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};let colorPreference=getColorPreference();localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference);const colorPreferenceButton=document.querySelector("#content-wrapper > footer > div:last-child > button:last-child");colorPreferenceButton&&colorPreferenceButton.addEventListener("click",function(){colorPreference=="dark"?colorPreference="light":colorPreference="dark",setColorPreference()});const setColorPreference=()=>{localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{colorPreference=e?"dark":"light",setColorPreference()});const body=document.body,bodyModelOuter=document.querySelector("#body-model-outer"),asideWrapper=document.querySelector("#aside-wrapper"),asideWrapperOpenButton=document.querySelector("main > article > nav > button:first-child"),asideWrapperCloseButton=document.querySelector("#aside-wrapper > aside > div .btn");asideWrapper&&asideWrapperOpenButton&&asideWrapperOpenButton.addEventListener("click",function(){body.classList.add("model-open"),bodyModelOuter.style.display="block",asideWrapper.classList.add("open"),asideWrapperCloseButton.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",asideWrapper.classList.remove("open")}),bodyModelOuter.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",asideWrapper.classList.remove("open")})});const mainAside=document.querySelector("main > aside"),mainAsideOpenButton=document.querySelector("main > article > nav > button:last-child"),mainAsideCloseButton=document.querySelector("main > aside > div > .btn");mainAside&&mainAsideOpenButton&&mainAsideOpenButton.addEventListener("click",function(){body.classList.add("model-open"),bodyModelOuter.style.display="block",mainAside.classList.add("open"),mainAsideCloseButton.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.remove("open")}),bodyModelOuter.addEventListener("click",function(){body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.remove("open")})}),window.addEventListener("resize",function(){body.classList.contains("model-open")&&(body.classList.remove("model-open"),bodyModelOuter.style.display="none",mainAside.classList.contains("open")&&mainAside.classList.remove("open"),asideWrapper.classList.contains("open")&&asideWrapper.classList.remove("open"))});const asideWrapperSiteLogo=document.querySelector("#aside-wrapper .site-logo"),asideWrapperAsideNav=document.querySelector("#aside-wrapper > aside > nav"),adjustAsideWrapperAsideNavHeight=function(){window.innerWidth>1280?asideWrapperAsideNav.style.height=`${window.innerHeight-1-asideWrapperSiteLogo.getBoundingClientRect().height}px`:asideWrapperAsideNav.style.height=""};adjustAsideWrapperAsideNavHeight(),window.addEventListener("resize",function(){adjustAsideWrapperAsideNavHeight()}),"IntersectionObserver"in window&&document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll("#TableOfContents a");let e=null;const t={},s=new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&(e&&e.classList.remove("active"),e=t[n.target.id],e&&e.classList.add("active"))})},{rootMargin:`0% 0% -80% 0%`});n.forEach(e=>{const n=e.getAttribute("href")?e.getAttribute("href").slice(1):null;if(n){const o=document.getElementById(n);o&&(t[n]=e,s.observe(o))}e.addEventListener("click",function(){body.classList.contains("model-open")&&mainAsideCloseButton.click()})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("pre.chroma, pre:not(.chroma)");e.forEach(function(e){const n=document.createElement("div");n.className="code-block-wrapper";const c=e.querySelector("code")||e,o=c.textContent||c.innerText,i=o.split(`
`);let a="",l=o;if(i.length>0){const e=i[0].trim(),t=[/^\/\/\s*(.+\.\w+)/,/^#\s*(.+\.\w+)/,/^--\s*(.+\.\w+)/,/^\/\*\s*(.+\.\w+)/];for(const s of t){const n=e.match(s);if(n){a=n[1],l=i.slice(1).join(`
`);break}}}const s=document.createElement("div");s.className="code-block-header";const r=document.createElement("span");r.className="code-filename",r.textContent=a||"Code";const t=document.createElement("button");t.className="copy-code-btn",t.innerHTML='<span class="copy-icon">ðŸ“‹</span><span class="copy-text">Copy</span>',t.setAttribute("aria-label","Copy code"),s.appendChild(r),s.appendChild(t),e.parentNode.insertBefore(n,e),n.appendChild(s),n.appendChild(e),t.addEventListener("click",function(){const e=a?l:o;navigator.clipboard.writeText(e).then(function(){t.innerHTML='<span class="copy-icon">âœ…</span><span class="copy-text">Copied!</span>',t.classList.add("copied"),setTimeout(function(){t.innerHTML='<span class="copy-icon">ðŸ“‹</span><span class="copy-text">Copy</span>',t.classList.remove("copied")},2e3)}).catch(function(e){console.error("Failed to copy: ",e)})})})})