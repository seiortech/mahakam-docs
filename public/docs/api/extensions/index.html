<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Mahakam is a HTTP Framework for go written over netpoll that support net/http package.">
  <meta name="author" content="Raden Mohamad Rishwan">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#101010" media="(prefers-color-scheme: dark)">
  <title>Extensions · Mahakam</title>
  <link rel="canonical" href="//localhost:1313/docs/api/extensions/">
  <link rel="stylesheet" href="/assets/css/docs.min.8fba5f7f095746c5a7cb62e3c13b2c8a226a1e050923396d3fbad00dded6e8f9.css" integrity="">

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon/favicon.ico">
  <link rel="icon" href="/favicon/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="icon" href="/favicon/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="/favicon/apple-touch-icon.png" sizes="180x180">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-45D28YXK4C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-45D28YXK4C');
  </script>
</head>

<body>

<div id="outer-wrapper">

  <div id="aside-wrapper">
    <aside>
      <div>
        <button class="btn"><i>❌</i>Close</button>
      </div>

      <a href="//localhost:1313/" class="site-logo">Mahakam</a>

      <nav role="navigation">
        <details open>
          <summary>Documentation</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/overview/">Overview</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Getting Started</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/quick-start/">Quick Start</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/configuration/">Configuration</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Features</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/routing/">Routing</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/middleware/">Middleware</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/websocket/">Websocket</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Extensions</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/validation/">Validation</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/metrics/">Metrics</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/tracing/">Tracing</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>API Reference</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/core/">Core</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/websocket/">Websocket</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/middleware/">Middleware</a>
            </li>
            <li>
              <a class="active" href="//localhost:1313/docs/extensions/">Extensions</a>
            </li>
            </ul>
        </details>
        
      </nav>
    </aside>
  </div>

  <div id="content-wrapper">
    <header>
      <a href="//localhost:1313/" class="site-logo">Mahakam</a>
    </header>

    <main>
      <article>
        <nav>
          <button class="btn"><i>⬅️</i> On this section</button>
          <button class="btn">On this page <i>➡️</i></button>
        </nav>
        <header>
          <h1>Extensions</h1>
          <p></p>
        </header>
        <div id="article-body">
          <!-- Code generated by gomarkdoc. DO NOT EDIT -->
<h1 id="extensions">extensions</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/seiortech/mahakam/extensions&#34;</span>
</span></span></code></pre></div><h2 id="index">Index</h2>
<ul>
<li><a href="#ValidationMiddleware" >func ValidationMiddleware[T Validation](next http.HandlerFunc) http.HandlerFunc</a></li>
<li><a href="#Metrics" >type Metrics</a>
<ul>
<li><a href="#NewMetrics" >func NewMetrics() *Metrics</a></li>
<li><a href="#Metrics.Middleware" >func (m *Metrics) Middleware(next http.HandlerFunc) http.HandlerFunc</a></li>
<li><a href="#Metrics.Register" >func (m *Metrics) Register(mux *http.ServeMux) error</a></li>
<li><a href="#Metrics.StartUptimeTracking" >func (m *Metrics) StartUptimeTracking()</a></li>
<li><a href="#Metrics.Unregister" >func (m *Metrics) Unregister()</a></li>
</ul>
</li>
<li><a href="#Tracer" >type Tracer</a>
<ul>
<li><a href="#NewTracer" >func NewTracer(serviceName, collectorURL string) *Tracer</a></li>
<li><a href="#Tracer.Init" >func (t *Tracer) Init() func(context.Context) error</a></li>
<li><a href="#Tracer.Middleware" >func (t *Tracer) Middleware(next http.HandlerFunc) http.HandlerFunc</a></li>
<li><a href="#Tracer.Tracer" >func (t *Tracer) Tracer() oteltrace.Tracer</a></li>
</ul>
</li>
<li><a href="#Validation" >type Validation</a></li>
<li><a href="#ValidationError" >type ValidationError</a>
<ul>
<li><a href="#ValidationError.Error" >func (e ValidationError) Error() string</a></li>
<li><a href="#ValidationError.JSON" >func (e ValidationError) JSON() ([]byte, error)</a></li>
</ul>
</li>
</ul>
<p><a name="ValidationMiddleware"></a></p>
<h2 id="func-validationmiddleware">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L36" target="_blank" >ValidationMiddleware</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nx">ValidationMiddleware</span><span class="p">[</span><span class="nx">T</span> <span class="nx">Validation</span><span class="p">](</span><span class="nx">next</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span><span class="p">)</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span>
</span></span></code></pre></div><p>ValidationMiddleware is a middleware that validates the request body against the Validation interface.</p>
<p><a name="Metrics"></a></p>
<h2 id="type-metrics">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L14-L22" target="_blank" >Metrics</a></h2>
<p>Metrics is a struct that holds various Prometheus metrics for HTTP server monitoring.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Metrics</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RequestCounter</span>     <span class="o">*</span><span class="nx">prometheus</span><span class="p">.</span><span class="nx">CounterVec</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RequestDuration</span>    <span class="o">*</span><span class="nx">prometheus</span><span class="p">.</span><span class="nx">HistogramVec</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RequestSize</span>        <span class="o">*</span><span class="nx">prometheus</span><span class="p">.</span><span class="nx">HistogramVec</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ActiveConnections</span>  <span class="nx">prometheus</span><span class="p">.</span><span class="nx">Gauge</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ConcurrentRequests</span> <span class="nx">prometheus</span><span class="p">.</span><span class="nx">Gauge</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ErrorCounter</span>       <span class="o">*</span><span class="nx">prometheus</span><span class="p">.</span><span class="nx">CounterVec</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ServerUptime</span>       <span class="nx">prometheus</span><span class="p">.</span><span class="nx">Counter</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="NewMetrics"></a></p>
<h3 id="func-newmetrics">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L24" target="_blank" >NewMetrics</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewMetrics</span><span class="p">()</span> <span class="o">*</span><span class="nx">Metrics</span>
</span></span></code></pre></div><p><a name="Metrics.Middleware"></a></p>
<h3 id="func-metrics-middleware">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L103" target="_blank" >Middleware</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Metrics</span><span class="p">)</span> <span class="nf">Middleware</span><span class="p">(</span><span class="nx">next</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span><span class="p">)</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span>
</span></span></code></pre></div><p>Middleware is an HTTP middleware that collects metrics for incoming requests.</p>
<p><a name="Metrics.Register"></a></p>
<h3 id="func-metrics-register">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L59" target="_blank" >Register</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Metrics</span><span class="p">)</span> <span class="nf">Register</span><span class="p">(</span><span class="nx">mux</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">ServeMux</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre></div><p>Register registers the metrics with the provided HTTP ServeMux.</p>
<p><a name="Metrics.StartUptimeTracking"></a></p>
<h3 id="func-metrics-startuptimetracking">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L91" target="_blank" >StartUptimeTracking</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Metrics</span><span class="p">)</span> <span class="nf">StartUptimeTracking</span><span class="p">()</span>
</span></span></code></pre></div><p>StartUptimeTracking starts a goroutine that increments the server uptime metric every second.</p>
<p><a name="Metrics.Unregister"></a></p>
<h3 id="func-metrics-unregister">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L80" target="_blank" >Unregister</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Metrics</span><span class="p">)</span> <span class="nf">Unregister</span><span class="p">()</span>
</span></span></code></pre></div><p>Unregister unregisters the metrics from Prometheus.</p>
<p><a name="Tracer"></a></p>
<h2 id="type-tracer">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L18-L23" target="_blank" >Tracer</a></h2>
<p>Tracer is a struct that holds the OpenTelemetry tracer and its configuration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Tracer</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ServiceName</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Version</span>      <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CollectorURL</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// contains filtered or unexported fields</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="NewTracer"></a></p>
<h3 id="func-newtracer">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L25" target="_blank" >NewTracer</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewTracer</span><span class="p">(</span><span class="nx">serviceName</span><span class="p">,</span> <span class="nx">collectorURL</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">Tracer</span>
</span></span></code></pre></div><p><a name="Tracer.Init"></a></p>
<h3 id="func-tracer-init">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L38" target="_blank" >Init</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Tracer</span><span class="p">)</span> <span class="nf">Init</span><span class="p">()</span> <span class="kd">func</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre></div><p>Init initializes the OpenTelemetry tracer.</p>
<p><a name="Tracer.Middleware"></a></p>
<h3 id="func-tracer-middleware">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L72" target="_blank" >Middleware</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Tracer</span><span class="p">)</span> <span class="nf">Middleware</span><span class="p">(</span><span class="nx">next</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span><span class="p">)</span> <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span>
</span></span></code></pre></div><p>Middleware is an HTTP middleware that traces requests using OpenTelemetry.</p>
<p><a name="Tracer.Tracer"></a></p>
<h3 id="func-tracer-tracer">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L33" target="_blank" >Tracer</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">Tracer</span><span class="p">)</span> <span class="nf">Tracer</span><span class="p">()</span> <span class="nx">oteltrace</span><span class="p">.</span><span class="nx">Tracer</span>
</span></span></code></pre></div><p><a name="Validation"></a></p>
<h2 id="type-validation">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L31-L33" target="_blank" >Validation</a></h2>
<p>Validation is an interface that requires a Validate method for validating request data using ValidationMiddleware.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Validation</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Validate</span><span class="p">()</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="ValidationError"></a></p>
<h2 id="type-validationerror">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L15-L19" target="_blank" >ValidationError</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ValidationError</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Message</span> <span class="kt">string</span>         <span class="s">`json:&#34;message&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Code</span>    <span class="kt">int</span>            <span class="s">`json:&#34;code&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Fields</span>  <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span> <span class="s">`json:&#34;fields,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="ValidationError.Error"></a></p>
<h3 id="func-validationerror-error">func (ValidationError) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L21" target="_blank" >Error</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="nx">ValidationError</span><span class="p">)</span> <span class="nf">Error</span><span class="p">()</span> <span class="kt">string</span>
</span></span></code></pre></div><p><a name="ValidationError.JSON"></a></p>
<h3 id="func-validationerror-json">func (ValidationError) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L26" target="_blank" >JSON</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="nx">ValidationError</span><span class="p">)</span> <span class="nf">JSON</span><span class="p">()</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p>NewValidationError creates a new ValidationError with the given message and code.</p>
<p>Generated by <a href="https://github.com/princjef/gomarkdoc" target="_blank" >gomarkdoc</a></p>

        </div>

        <footer>
          <time datetime="0001-01-01"><i>🕒</i> Updated: 0001-01-01</time>
          <a href="//localhost:1313/docs/middleware/"><i>﹤</i> Previous</a>
          <a class="hidden">Next <i>﹥</i></a>
          </footer>
      </article>

      <aside>
        <div>
          <button class="btn"><i>❌</i>Close</button>
        </div>
        <strong>On this page</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#index">Index</a></li>
    <li><a href="#func-validationmiddleware">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L36">ValidationMiddleware</a></a></li>
    <li><a href="#type-metrics">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L14-L22">Metrics</a></a>
      <ul>
        <li><a href="#func-newmetrics">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L24">NewMetrics</a></a></li>
        <li><a href="#func-metrics-middleware">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L103">Middleware</a></a></li>
        <li><a href="#func-metrics-register">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L59">Register</a></a></li>
        <li><a href="#func-metrics-startuptimetracking">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L91">StartUptimeTracking</a></a></li>
        <li><a href="#func-metrics-unregister">func (*Metrics) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/metrics.go#L80">Unregister</a></a></li>
      </ul>
    </li>
    <li><a href="#type-tracer">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L18-L23">Tracer</a></a>
      <ul>
        <li><a href="#func-newtracer">func <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L25">NewTracer</a></a></li>
        <li><a href="#func-tracer-init">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L38">Init</a></a></li>
        <li><a href="#func-tracer-middleware">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L72">Middleware</a></a></li>
        <li><a href="#func-tracer-tracer">func (*Tracer) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/tracer.go#L33">Tracer</a></a></li>
      </ul>
    </li>
    <li><a href="#type-validation">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L31-L33">Validation</a></a></li>
    <li><a href="#type-validationerror">type <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L15-L19">ValidationError</a></a>
      <ul>
        <li><a href="#func-validationerror-error">func (ValidationError) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L21">Error</a></a></li>
        <li><a href="#func-validationerror-json">func (ValidationError) <a href="https://github.com/seiortech/mahakam/blob/master/extensions/validation.go#L26">JSON</a></a></li>
      </ul>
    </li>
  </ul>
</nav>
      </aside>
    </main>

    <footer>
      <div><i>🧑‍💻</i>Built by and copyright<a href="https://mohamadrishwan.me" target="_blank">Raden Mohamad Rishwan</a> (c) 2025 <a href="https://github.com/seiortech/mahakam" target="_blank">GitHub</a></div>
        <div>
    
   <button class="btn"><i>☀️</i><i>⁄</i><i>🌑</i></button>
  </div>
    </footer>
  </div>

</div>

<div id="body-model-outer"></div>
<script type="text/javascript" src="/assets/js/docs.min.12ffdc25c0149ef34e761ee54587f2aae17affcb8375298ad2180851930cb142.js" integrity=""></script>
</body>
</html>