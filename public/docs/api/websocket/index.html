<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Mahakam is a HTTP Framework for go written over netpoll that support net/http package.">
  <meta name="author" content="Raden Mohamad Rishwan">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#101010" media="(prefers-color-scheme: dark)">
  <title>Websocket · Mahakam</title>
  <link rel="canonical" href="//localhost:1313/docs/api/websocket/">
  <link rel="stylesheet" href="/assets/css/docs.min.8fba5f7f095746c5a7cb62e3c13b2c8a226a1e050923396d3fbad00dded6e8f9.css" integrity="">

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon/favicon.ico">
  <link rel="icon" href="/favicon/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="icon" href="/favicon/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="/favicon/apple-touch-icon.png" sizes="180x180">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-45D28YXK4C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-45D28YXK4C');
  </script>
</head>

<body>

<div id="outer-wrapper">

  <div id="aside-wrapper">
    <aside>
      <div>
        <button class="btn"><i>❌</i>Close</button>
      </div>

      <a href="//localhost:1313/" class="site-logo">Mahakam</a>

      <nav role="navigation">
        <details open>
          <summary>Documentation</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/overview/">Overview</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Getting Started</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/quick-start/">Quick Start</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/configuration/">Configuration</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Features</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/routing/">Routing</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/middleware/">Middleware</a>
            </li>
            <li>
              <a class="active" href="//localhost:1313/docs/websocket/">Websocket</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>Extensions</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/validation/">Validation</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/metrics/">Metrics</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/tracing/">Tracing</a>
            </li>
            </ul>
        </details>
        <details open>
          <summary>API Reference</summary>
          <ul>
            <li>
              <a class="" href="//localhost:1313/docs/core/">Core</a>
            </li>
            <li>
              <a class="active" href="//localhost:1313/docs/websocket/">Websocket</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/middleware/">Middleware</a>
            </li>
            <li>
              <a class="" href="//localhost:1313/docs/extensions/">Extensions</a>
            </li>
            </ul>
        </details>
        
      </nav>
    </aside>
  </div>

  <div id="content-wrapper">
    <header>
      <a href="//localhost:1313/" class="site-logo">Mahakam</a>
    </header>

    <main>
      <article>
        <nav>
          <button class="btn"><i>⬅️</i> On this section</button>
          <button class="btn">On this page <i>➡️</i></button>
        </nav>
        <header>
          <h1>Websocket</h1>
          <p></p>
        </header>
        <div id="article-body">
          <!-- Code generated by gomarkdoc. DO NOT EDIT -->
<h1 id="websocket">websocket</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/seiortech/mahakam/websocket&#34;</span>
</span></span></code></pre></div><h2 id="index">Index</h2>
<ul>
<li><a href="#constants" >Constants</a></li>
<li><a href="#EncodeFrame" >func EncodeFrame(payload []byte, opcode Opcode) ([]byte, error)</a></li>
<li><a href="#Client" >type Client</a>
<ul>
<li><a href="#Client.Close" >func (ws *Client) Close(reason []byte, code int) error</a></li>
<li><a href="#Client.Read" >func (ws *Client) Read(data []byte) (Frame, int, error)</a></li>
<li><a href="#Client.Write" >func (ws *Client) Write(data []byte, opcode Opcode) (int, error)</a></li>
</ul>
</li>
<li><a href="#Frame" >type Frame</a>
<ul>
<li><a href="#DecodeFrame" >func DecodeFrame(data []byte) (Frame, error)</a></li>
</ul>
</li>
<li><a href="#Opcode" >type Opcode</a></li>
<li><a href="#Websocket" >type Websocket</a>
<ul>
<li><a href="#Websocket.Upgrade" >func (ws *Websocket) Upgrade(w http.ResponseWriter, r *http.Request) (*Client, error)</a></li>
</ul>
</li>
</ul>
<h2 id="constants">Constants</h2>
<p><a name="STATUS_CLOSE_NORMAL_CLOSURE"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_NORMAL_CLOSURE</span>        <span class="p">=</span> <span class="mi">1000</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_GOING_AWAY</span>            <span class="p">=</span> <span class="mi">1001</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_PROTOCOL_ERR</span>          <span class="p">=</span> <span class="mi">1002</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_UNSUPPORTED</span>           <span class="p">=</span> <span class="mi">1003</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_NO_STATUS</span>             <span class="p">=</span> <span class="mi">1005</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_ABNORMAL_CLOSURE</span>      <span class="p">=</span> <span class="mi">1006</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_INVALID_PAYLOAD</span>       <span class="p">=</span> <span class="mi">1007</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_POLICY_VIOLATION</span>      <span class="p">=</span> <span class="mi">1008</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_MESSAGE_TOO_BIG</span>       <span class="p">=</span> <span class="mi">1009</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_MANDATORY_EXTENSION</span>   <span class="p">=</span> <span class="mi">1010</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_INTERNAL_SERVER_ERROR</span> <span class="p">=</span> <span class="mi">1011</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_SERVICE_RESTART</span>       <span class="p">=</span> <span class="mi">1012</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_TRY_AGAIN_LATER</span>       <span class="p">=</span> <span class="mi">1013</span>
</span></span><span class="line"><span class="cl">    <span class="nx">STATUS_CLOSE_TLS_HANDSHAKE</span>         <span class="p">=</span> <span class="mi">1015</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p><a name="MAGIC_KEY"></a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">MAGIC_KEY</span> <span class="p">=</span> <span class="s">&#34;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&#34;</span>
</span></span></code></pre></div><p><a name="EncodeFrame"></a></p>
<h2 id="func-encodeframe">func <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L90" target="_blank" >EncodeFrame</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">EncodeFrame</span><span class="p">(</span><span class="nx">payload</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">opcode</span> <span class="nx">Opcode</span><span class="p">)</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p><a name="Client"></a></p>
<h2 id="type-client">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L45-L47" target="_blank" >Client</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Client</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// contains filtered or unexported fields</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="Client.Close"></a></p>
<h3 id="func-client-close">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L72" target="_blank" >Close</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ws</span> <span class="o">*</span><span class="nx">Client</span><span class="p">)</span> <span class="nf">Close</span><span class="p">(</span><span class="nx">reason</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">code</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre></div><p><a name="Client.Read"></a></p>
<h3 id="func-client-read">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L49" target="_blank" >Read</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ws</span> <span class="o">*</span><span class="nx">Client</span><span class="p">)</span> <span class="nf">Read</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="nx">Frame</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p><a name="Client.Write"></a></p>
<h3 id="func-client-write">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L63" target="_blank" >Write</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ws</span> <span class="o">*</span><span class="nx">Client</span><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">opcode</span> <span class="nx">Opcode</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p><a name="Frame"></a></p>
<h2 id="type-frame">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L8-L18" target="_blank" >Frame</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Frame</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">FIN</span>           <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RSV1</span>          <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RSV2</span>          <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">    <span class="nx">RSV3</span>          <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">    <span class="nx">OpCode</span>        <span class="nx">Opcode</span>
</span></span><span class="line"><span class="cl">    <span class="nx">IsMasked</span>      <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">    <span class="nx">MaskingKey</span>    <span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="kt">byte</span>
</span></span><span class="line"><span class="cl">    <span class="nx">PayloadLength</span> <span class="kt">uint64</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Payload</span>       <span class="p">[]</span><span class="kt">byte</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a name="DecodeFrame"></a></p>
<h3 id="func-decodeframe">func <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L20" target="_blank" >DecodeFrame</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">DecodeFrame</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="nx">Frame</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p><a name="Opcode"></a></p>
<h2 id="type-opcode">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/const.go#L5" target="_blank" >Opcode</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Opcode</span> <span class="kt">byte</span>
</span></span></code></pre></div><p><a name="CONTINUATION"></a>opcode</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CONTINUATION</span> <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0x0</span>
</span></span><span class="line"><span class="cl">    <span class="nx">TEXT</span>         <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0x1</span>
</span></span><span class="line"><span class="cl">    <span class="nx">BINARY</span>       <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0x2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CLOSE</span>        <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0x8</span>
</span></span><span class="line"><span class="cl">    <span class="nx">PING</span>         <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0x9</span>
</span></span><span class="line"><span class="cl">    <span class="nx">PONG</span>         <span class="nx">Opcode</span> <span class="p">=</span> <span class="mh">0xA</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p><a name="Websocket"></a></p>
<h2 id="type-websocket">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L9" target="_blank" >Websocket</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Websocket</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span></code></pre></div><p><a name="Websocket.Upgrade"></a></p>
<h3 id="func-websocket-upgrade">func (*Websocket) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L11" target="_blank" >Upgrade</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ws</span> <span class="o">*</span><span class="nx">Websocket</span><span class="p">)</span> <span class="nf">Upgrade</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Client</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></div><p>Generated by <a href="https://github.com/princjef/gomarkdoc" target="_blank" >gomarkdoc</a></p>

        </div>

        <footer>
          <time datetime="0001-01-01"><i>🕒</i> Updated: 0001-01-01</time>
          <a href="//localhost:1313/docs/middleware/"><i>﹤</i> Previous</a>
          <a href="//localhost:1313/docs/validation/">Next <i>﹥</i></a>
          </footer>
      </article>

      <aside>
        <div>
          <button class="btn"><i>❌</i>Close</button>
        </div>
        <strong>On this page</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#index">Index</a></li>
    <li><a href="#constants">Constants</a></li>
    <li><a href="#func-encodeframe">func <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L90">EncodeFrame</a></a></li>
    <li><a href="#type-client">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L45-L47">Client</a></a>
      <ul>
        <li><a href="#func-client-close">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L72">Close</a></a></li>
        <li><a href="#func-client-read">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L49">Read</a></a></li>
        <li><a href="#func-client-write">func (*Client) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L63">Write</a></a></li>
      </ul>
    </li>
    <li><a href="#type-frame">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L8-L18">Frame</a></a>
      <ul>
        <li><a href="#func-decodeframe">func <a href="https://github.com/seiortech/mahakam/blob/master/websocket/frame.go#L20">DecodeFrame</a></a></li>
      </ul>
    </li>
    <li><a href="#type-opcode">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/const.go#L5">Opcode</a></a></li>
    <li><a href="#type-websocket">type <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L9">Websocket</a></a>
      <ul>
        <li><a href="#func-websocket-upgrade">func (*Websocket) <a href="https://github.com/seiortech/mahakam/blob/master/websocket/websocket.go#L11">Upgrade</a></a></li>
      </ul>
    </li>
  </ul>
</nav>
      </aside>
    </main>

    <footer>
      <div><i>🧑‍💻</i>Built by and copyright<a href="https://mohamadrishwan.me" target="_blank">Raden Mohamad Rishwan</a> (c) 2025 <a href="https://github.com/seiortech/mahakam" target="_blank">GitHub</a></div>
        <div>
    
   <button class="btn"><i>☀️</i><i>⁄</i><i>🌑</i></button>
  </div>
    </footer>
  </div>

</div>

<div id="body-model-outer"></div>
<script type="text/javascript" src="/assets/js/docs.min.12ffdc25c0149ef34e761ee54587f2aae17affcb8375298ad2180851930cb142.js" integrity=""></script>
</body>
</html>